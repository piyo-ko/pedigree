# 系図を描いて SVG データにしてみよう

## 簡単な紹介
系図がほしい状況は色々あるはずだが、自分で作ろうとなると、まずどのソフトウェアで作れば良いのかに悩む。しかも、作図している途中では全体像が見えにくいこともあるので、途中で「全体的に各要素を縮小したい (そうしないと所定の範囲に系図を収められない)」となるかもしれないが、ソフトウェアによっては、その作業が煩雑を極める可能性もある。

そこで、「SVG ならスケーラブルだし、後でテキストエディタで微調整も好きにできるし、再利用性も良さそうだし、系図作りに良いのでは?」と思いついて、その単なる思いつきのままに、行き当たりばったりで系図作成アプリ的なものを作ってみた。

現状は、「簡単な系図なら作れるが、源氏物語や日本の古代・中世のような複雑な系図を作ろうとすると対処しきれない」というレベルだが、一応公開する。

* [実際に系図を作るページ](https://piyo-ko.github.io/pedigree/pedigree.html)
* 作った SVG ファイルと同じフォルダに置くべき[スタイルファイル](https://piyo-ko.github.io/pedigree/pedigree_svg.css)
* [技術的なメモ](https://piyo-ko.github.io/pedigree/attributes.html)

御感想などは Twitter で `@pi__yo__ko` までどうぞ。

## 例
[PNG への変換ページ](https://piyo-ko.github.io/tools/svg2png.html) で変換した画像 (背景色として白を指定したもの) を二つ、例として載せておく。

![森鷗外と星新一が親戚だよという家系図](mori_hoshi_white.png)

![三菱東京UFJ銀行の来歴](mufg_white.png)

## 今後の課題

予定は未定だし、対処できるかどうかも分からないが、一応、残っている課題・思いつく課題を挙げておく。

* 人名にルビを振れるようにする。
* もしかすると、ルビ、名前本体、補足メモ、の3行まで対応できるようにすべきかもしれない。
* 源氏物語や日本の古代・中世のような複雑な系図を作ろうとすると対処しきれない問題 (今は対処しきれない問題が発生すると、「どう再描画すれば良いか分からない」線の色を赤くするだけで放置している)。
* 整列機能があると嬉しいかも。
* ユーザの指定によりリンクのつなぎ直しができるようになると嬉しいかも。
* プログラムが全体的に行き当たりばったりなので、もう少し小綺麗にしたい。
* デバッグモードの指定も、 true/false で管理するのではなく、レベル分け、および/または、機能別にするとか……
* ヘルプページは必要だろうか?

以上。
